## 数据类型
- 标准数据类型:
	- 不可变数据
		- Number 数字: 元数据
		- String 字符串: 元数据
		- Tuple 元组: 集合数据, 有序, 可以有重复的成员
	- 可变数据
		- List 列表: 集合数据, 有序, 可以有重复的成员
		- Set 集合: 集合数据, 无序, 没有重复的成员, 无索引
		- Dictionary 字典: 集合数据, 无序, 没有重复的成员, 有索引
- 字符串, 元组, 列表都属于*序列(sequence)* 类型数据 ^61e70f
- 字典属于*映射(mapping)* 类型数据
- 列表, 元组, 集合, 字典都是Python内建的*数据容器(container)*, 属于*集合型数据* ^9e39e2
- 列表, 元组, 字典, 集合都有各自的[[基本语法#Comprehensions 推导式|推导式]], 又称解析器, 是Python独有的一种特性, 使用推导式可以快速生成一个满足指定需求的对应类型的元素
- 使用type()函数可以查看变量的类型

### number 数字
- 当一个变量被赋值为数时, Number对象将被创建; 可以使用del语句删除数字对象的引用(指向内存的指针), 同时这段内存将被释放
- 数字类型是不允许改变的, 即如果使用赋值语句修改number类型变量的值, 将针对该变量的引用重新分配内存空间
- del语句: *del var1[,var2[,var3[....,varN]]]*

#### Python支持三种数值类型
- 整数/整型(int): 可以为正或负的整数, Python3不限制大小, 可以当作Long类型使用
	- 布尔(bool): True/False, 是整型int的子类型, True\==1, False\==0, **可以进行数字相加**
	- 可以使用八进制(0o开头)和十六进制(0x开头)表示不同进制下的整型
- 浮点型(float): 由整数部分和小数部分组成, 可以使用科学计数法表示: 2.5e2 = 2.5 x 10^2 = 250
- 复数(complex): 由实部和虚部组成, 可以用a + bj或compex(a, b)表示, 其实部和虚部都是浮点型
##### 类型操作
- 当需要进行数字内置的类型转换时, 只需将数据类型作为函数名即可
- 内置的*type()* 或*ininstance()* 函数可以查询变量的对象类型
	- 二者的区别在于：type()不会认为子类是一种父类类型；isinstance()会认为子类是一种父类类型

#### 数值运算
- 数值运算：+, -, \*, /(浮点数商), //(商的整数部分), %(取余), \*\*(乘方）
- int和float类型混合计算时，Python会把整数转换成浮点数
- 在交互模式中，最后输出的表达式结果被赋值给变量_ 该变量应被视为只读变量
- Python可以通过函数, 实现数学表达式、随机数、三角函数等计算
- Python内置数学常量pi(圆周率)和e(自然常数)


### string 字符串
- 创建字符串: 为一个变量分配一个使用'', ""或'''/"""括起来的值，\反斜杠转义特殊字符, 其中三引号'''/"""用于定义多行字符串
- Python中没有单独的字符类型, 一个字符就是一个长度为1的字符串

#### 索引/截取(切片)
- 切片操作符`:`. 格式为: `变量[头下标:尾下标:步长]`
- 两种索引方式: 从前(左)索引以0开始; 从后(右)索引以-1开始
- 截取时每一个下标位于该位置的字符之前，遵循**左闭右开原则**(包括头下标不包括尾下标位置的字符)
- 头下标缺省代表从头开始, 尾下标缺省代表截取到最后一位, 可以同时缺省表示从头到尾
- 第三个参数步长(每多少个获取一个), 如果第三个参数为负数则代表**逆向读取**
- 逆向读取时, 将从第一个参数所在的下标处, 从后向前获取至第二个参数所指的下标处, 下标在数据右侧(后方), 所以将遵循**右闭左开**(也是包括开始不包括结束)

#### 字符串操作
- 字符串可以使用+或\*来连接或复制字符串，字符串可实现自动级联
- 字符串中的字符无法改变(不可被修改), 向一个索引位置赋值会导致错误
- 字符串更新: 截取字符串的一部分, 与另一(截取)字符串使用+拼接, 可赋值至原变量, 会修改变量索引
- Python3中, 所有的字符串都是Unicode字符串; 在Python2中, 普通字符串是以8位ascii码存储的, 可以使用字符串前缀u将其存储为16位Unicode字符串
##### 查找
- `str.find(substr[, start, end])` 在字符串str的start-end**查找substr**
- `str.index(substr[, start, end])` 寻找, 找不到报错
- `str.rfind()`, `str.rindex()` 查找方向从右侧开始
- `str.count(substr[, start, end])` 返回某个子串在字符串中**出现的次数**
##### 修改
- `str.replace(oldstr, newstr[, num])` 将str中找到的前num数量的oldstr替换为newstr(注意不可变类型数据)
- `str.split(separator[, num])` 以separator为界分割字符串, 分为num+1个子字符串组成的列表(注意: 如果分割字符是原有字符串中的子串, 分割后则丢失该子串)
- `join(str.join(list))` 以str为分隔连接list, 成为一个新的字符串
- `str.ljust(len[, fill])`, `str.rjust()`, `str.center()` 改变字符串长度, 向左/向右/居中对齐, 空白处以fill字符填充
- `startwith(substr[, start, end])`, `endwith()` 字符串区间内开始/结束为指定子字符串, 返回True/False
- `str.isalpha()` `str.isalnum()` `isspace()` 字符串至少有一个字符且所有字符都是字母/数字/空白返回True, 否则返回False

#### \转义特殊字符
- Python的转义字符：以反斜杠\为起始
- 在字符串引号前添加r或R（raw string），则此字符串中的转义字符取消转义
- 单独使用\在行尾时作为续行符使用，使此行与下行相连(仅作用于字符串)
- 在特殊字符前加\, 取消转义, 代表其字符本身, 如单/双引号和反斜杠\
- Python中的特殊转义字符
	- \000 空
	- \yyy 八进制数, y代表0-7的字符, 对应八进制ascii码
	- \xyy 十六进制数, 以\x开头, y代表0-f的字符, 对应十六进制ascii码

#### 字符串格式化
将一个值插入到一个有字符串格式符的字符串中
可以使用词典类型的键来传递值, %(key)
- %[(name)]\[flags][width].[precision]typecode

##### 字符串格式符(typecode)
- %c 字符及其ascii码
- %s 字符串 (str()显示)
- %r 字符串 (repr()显示 (转化为无转义的字符串))
- %d/%i 十进制整数 (decimal)
- %u 无符号整数 (unsigned)
- %b 二进制整数 (binary)
- %o 无符号八进制整数 (octal)
- %x/%X 无符号十六进制整数 (unsigned-hexadecimal)
- %f/%F 浮点数 (float)
- %e/%E 浮点数, 使用科学计数法
- %g/%G 根据值的大小决定使用%f或%e

##### 字符串格式化辅助操作符
- \[width]: 显示的最小总宽度，小数点也算一位，若超出则原样输出，不足补空格  
- \[precision]: 小数点后的位数，若超出则四舍五入
- \[flags]
	- -: width冗余时有效信息靠左(默认靠右)
	- +: 输出number时在正数左侧添加'+'符号, 其他数据无效
	- ' ': 一个空格, 在正数的左侧填充一个空格, 使其与负数对齐
	- \* 在%()中定义width和precision, print("%.\*f" % (4, 1.2)) = "%.4f"
	- \# 在八进制数前显示0o，十六进制数前显示0x或0X（取决于%x或%X）
	- 0 将空位用0补齐, 仅对number数据有效
- \%%: 取消%的转义

##### str.format() 格式化函数
· 字符串格式变量的格式化方法, 在字符串中搜索{}后匹配后面括号中的内容
- {}中的内容可以为空, 也可以填入数字表示括号中元素的索
	- 在其中也可以填入参数, 在括号中写入赋值语句则可在主字符串内用变量名来使用一段字符串
	- 也可以通过字典格式直接使用"键", str.format(\**site) [[基本语法#^9afb49]]
	- 也可以用过列表索引设置参数: {0[0]}表示括号中第0项(列表)的第0项
	· 也可以向str.format传入对象: "{0.value}".format(value), 此处0可省略
- ":" 格式化符号, 在{}中.**{\[填充]\[对齐]\[符号]\[长度].\[精度]\[类型/进制]}**
	- \[填充]: 任意一个字符, 在长度大于数据长度时, 以此字符填充, 缺省为空格
	- \[对齐]: ^<> 分别用作居中, 左对齐和右对齐
	- \[符号]: +- 当值与+-相符时, 显示正负符号, 可以缺省则不显示任何符号
	- \[长度]: 任意整数数值, 控制字符串显示的长度, 长度小于数据长度则以数据最小长度显示, 长度大于数据长度则根据\[对齐]对齐, 使用\[填充]的字符填充空余部分
	- \[精度]: 仅在数据为浮点数时可用, 任意整数数值, 控制数据显示小数点后位数, 位数更多则四舍五入
	- \[类型\进制]: 详细见[[#字符串格式符 typecode]]
		- \#x或\#X 十六进制数前添加0x或0X, 仅用于整数, 不可与\[长度].\[精度]同时使用
	- {:,} 加在最后, 用逗号分割格式显示整数部分, 仅用于不指定\[类型/进制]时

##### f-string 格式化字符串 (Python 3.6+)
- f-string格式化字符串以f开头, 后面跟着字符串, 字符串中的表达式以{}包裹, 运行后将变量或表达式计算后的值替换进去
- 表达式可以使用变量, 运算表达式或调用其他数据类型中的元素
- 在Python3.8以后的版本中可以使用=拼接运算表达式和结果
- 使用`print()`时也可以像格式化字符串一样, 在字符串后` % variation`

#### Unicode 字符串
- 在Python2中, 普通字符是以8为ASCII码进行存储的, 而Unicode字符串则存储为16位unicode字符串, 使用方法是在字符串前添加前缀u
- 在Python3中, 所有字符串都是Unicode字符串


### list 列表 
- 列表可以完成大多数集合类的数据结构实现
- 在列表中的元素类型可以不相同, 支持数字, 字符串, 字典等所有数据类型, 还可以嵌套列表
- 列表使用[]表达, 元素中间用逗号,分隔开
- 所有列表都可以进行索引, 切片, 加, 乘, 检查成员等操作

#### 列表的索引, 截取与拼接
- [[#索引 截取 切片|见字符串的索引和截取]]
- 可以使用+=操作符拼接多个列表

#### 列表的更新和删除
- 列表中的元素可以改变, 使用索引方法赋值, 允许同时更改多个(使用区间索引)，或者使用append()方法添加列表项
- del list\[x]语句删除列表项, 同时x位置之后所有元素前移, 可以聚合使用

#### 列表脚本操作符
- +和\*的操作符与字符串类似, 分别用于组合和重复列表
- len(list) 获取list的长度 ^701220
- max(list), min(list), 分别返回列表元素的最大/最小值
- x in list 返回True或False, x是否存在于list列表中
- for x in list: 迭代list中所有元素

#### 列表的函数&方法
· str.split(' '), 根据字符串中的' '把各个单词分隔为列表
· ' '.join(a), 将列表中的元素连接成字符串, 使用' '分隔
· list(seq)，可以将sequence(元组或字符串)数据转换为列表
- list.append(obj) 在列表末尾添加新的对象
- list.count(obj) 统计某个元素在列表中出现的次数
- list.extend(seq) 在列表末尾一次性追加另一个序列中的多个值(类似+=运算符)
- list.index(obj) 从列表中某个值第一个匹配项的索引位置
- list.insert(index, obj) 将对象插入列表
- list.pop(\[index = -1]) 移除列表中的一个元素并返回该值, index默认值为-1, 即最后一个元素
- list.remove(obj) 移除列表中某个值的第一个匹配项
- list.reverse() 反转该列表
- list.sort(key = none, reverse = False) 对元素进行排序, key参数默认为无, 指定一个函数后则执行该函数(函数返回一个元素来自可迭代对象中); reverse参数决定了升序(False)或降序(True)
- list.clear(), list.copy() 清空列表, 复制列表
- operator.eq(lista, listb) 比较列表, 返回True或False, 需要引入**operator模块的eq方法**


### tuple 元组
元组于列表类似, 区别在于元组不可修改
- 元组中的元素类型也可以不相同
- 元组不可修改指的是元组所指向的内存中的内容不可变, 但可以指向另外一块内存(绑定新的对象)
- 元组使用()表达, 元素中间用逗号,分隔开

#### 构造一个元组
- a = () 构造一个**空元组**
- a = (20, ) **一个或更多个元素的元组**，需要在元素后**加逗号**, 否则会被解释器当作int类型(算数表达式中的小括号运算符)

#### 元组的索引与截取
- 元组也可以被索引, 切片, 加, 乘, 检查成员, 使用运算符, [[#列表的索引 截取与拼接|同列表]]
- **列表中的+=操作符不可用!** 可以使用+运算符将其一起赋值给新变量
- 元组的截取和索引[[#索引 截取 切片|见字符串]], 使用\[a:b], 但是修改元组中的数据是非法操作
- 虽然元组的元素不可改变, 但其可以包含可变的对象, 如list列表
- 元组中的元素不允许删除，可以使用del语句删除整个元组
- tuple(iterable) 可以将可迭代数据转换为元组


### set 集合
- Python中的集合是**一个无序的不重复元素**序列, 由一个或数个形态各异的大小整体组成, 构成集合的事物或对象称为**元素**或**成员**
- Python中有两种集合类型: set和frozenset, 其唯一区别是后者不可以进行增加/删除操作
- 集合使用{}创建, 中间的元素使用逗号分隔
- 或使用set()/frozenset()函数创建, 函数只能接收一个任何类型的参数 如有多个独立参数需要创建, 可以将其组合为一个列表/元组/集合
- 集合内的元素**仅支持不可变类型(数字, 字符串, 元组)**
- **创建空集合必须使用函数**, {}的作用是创建空字典
- 输出集合，集合中重复的元素将自动被去掉
- 因为是无序序列, 则不能使用`[]`截取

#### 集合的基本操作
- 添加元素：
	- s.add(x) 向集合s中直接添加元素x (仅限不可变数据), x所代表的元素只能有一个, 如果元素已存在, 则不进行任何操作
	- s.update(x) 向集合s中添加元素x, x所代表的数可以有很多个, 且可以是包括可变元素的任何对象, 前提是此对象的一级元素(无嵌套的第一层)的类型为数字或字符串, update方法会将x中的一级元素分别取出加入集合, 字典类型加入的是键
- 移除元素：
	- s.remove(x) 从集合s中移除x元素, 如果x不存在则会发生错误
	- s.discard(x) 从集合s中移除x元素, 如果x不存在不会发生错误
	- s.pop() 从集合s中随机删除一个元素
- 清空集合：s.clear()

#### 集合的计算和操作
- x in s 使用成员运算符快速判断元素是否在集合s内
- len(s) 计算集合s中的元素个数
- set可以使用位运算符进行集合运算
	- a - b a和b的差集 等同于方法 a.difference(b) a.difference_update(b)
	- a | b a和b的并集 等同于方法 a.union(b)
	- a & b a和b的交集 等同于方法 a.intersection(b) a.intersection_update(b)
	- a ^ b a和b的异或集合 等同于方法 a.symmetric_difference(b)

#### 集合内置方法
***_update后缀 意即针对本集合进行对应的修改***
- add() 为集合添加一个元素
- clear() 移除集合中的所有元素
- copy() 复制一个集合
- difference(), difference_update() 此集合和一个或多个集合的差集
- discard() 删除集合中的指定元素
- intersection(), interseciton_update() 此集合和一个或多个集合的交集
- isdisjoint() 返回bool, 此集合于另一集合是否**不**包含相同的元素
- issubset() 返回bool, 此集合是否为另一集合子集
- issuperset() 返回bool, 另一集合是否为此集合子集
- pop() 随机移除元素
- remove() 移除指定元素
- symmetric_difference(), symmetric_difference_update() 此集合和另一或多个集合的异或集合
- union() 此集合于另一或多个集合的并集
- update() 给集合添加元素(多个不同类型)


### Dictionary 字典
列表是有序的对象集合, 字典是无序的对象集合, 两者的区别在于: 字典中的元素是通过键存取的, 而不是通过偏移量
- 字典是一种映射类型, 是**键(keys):值(value)** 的键值对集合, 可以直接使用字典的键调用其对应的值
- 字典使用{}或dict()创建, 其中每个键值对用冒号:分隔; 键值对之间使用逗号,分隔, {}创建空字典
- 键(Key)必须使用不可变类型(数字, 字符串或元组), 且在同一个字典中不可重复(唯一的), 创建时如果一个键Kay被赋值两次, 后一个值会被记住
- 值(Value)可以是任何的Python对象, 标准对象或用户自定义对象, 可以重复或缺省, 缺省时输出将显示None

#### 访问/修改字典中的数据
- 可以使用dict.keys()和dict.values()分别使用字典dict中的所有键和所有值，python会以List列表形式返回
- 访问字典中的值, 依旧使用\[], 索引方式由下标改变为Key, key是获取对应键值对的唯一方法, 使用该键元素的完整表达式
- 向字典中添加新内容的方法是**直接索引新Key赋值**
- 删除字典元素使用del语句，使用Key索引
- 字典类型数据在输出时需要str()函数转换为字符串形式

#### 使用dict()函数创建字典
- dict()函数可以使用可迭代对象来构建字典, 支持三种语法
	- dict(\*\*kwarg)
		- key不能被引号包裹, 使用一个或多个关键字赋值作为实参
	- dict(mapping, \*\*kwarg)
		- mapping(映射)对象, 目前只有dict一种标准映射类型, 所以也就是可以使用dict字典对象
	- dict(iterable, \*\*kwarg)
		- iterable, 可迭代对象, 其中应以2个为单位分别组合(set集合嵌套不可用)
##### 使用zip()
- 使用zip()函数, 可以将两个可迭代对象转换为两两一组的序列元素后, 使用dict()构造字典
	- dict(zip(\[1, 2, 3], \[4, 5, 6])) ----> {1: 4, 2: 5, 3: 6}
- zip()：将一个及以上可迭代对象作为参数, 将参数中**位置对应**的元素打包成一个个元组. 如果各个迭代器的元素数量不一致, 则返回列表长度与最短的对象相同. 
- 利用\*号操作符可将zip后的数据解压（\*号为标记操作符，不具有函数效果）,zip对象可以使用list()输出
- 压缩和解压后的数据需要使用转换函数(如list())转换为操作的数据
- zip对象是一个迭代器，只能前进，不能后退。详见[Python zip()函数的一次踩坑记_挂件-CSDN博客](https://blog.csdn.net/benpaodelulu_guajian/article/details/81869462)

#### 字典视图对象
- **字典视图对象是字典的只读代理**, 可以使用字典的keys, values, items 以及 types模块的MappingProxyType来创建
	- keys方法返回的是一个类集合的对象，是字典所有key的一个视图
	- values方法返回的是字典所有value的视图
	- items方法返回的是字典所有键值对的视图
- 与sql中相同, Python的视图不真正存储字典的key, 但通过dict_keys对象, 可以访问字典的key
- 字典的视图不能修改, 但修改原字典后, 字典的视图也随之被修改
- 字典视图对象不是生成器, 都支持反复遍历

#### 字典内置函数/方法
- len(dict) 计算字典元素个数, 即键的总数
- dict.clear() 删除字典内所有元素
- dict.copy() 返回一个字典的[[直接赋值, 浅拷贝和深拷贝#浅拷贝 copy|浅复制]]
- dict.fromkeys(seq\[, value]) 
	- dict = {}.fromkeys((1, 2, 3), \[5, 6]) ----> {1:\[5, 6], 2:\[5, 6], 3:\[5, 6]}
	- seq 序列对象, 其中的元素分别作为字典中的键
	- value 序列对象, 生成的字典所有键对应的初始值
- dict.get(key\[, default=None]) 返回指定键的值, 如果键不在字典中则返回default设置的默认值
- dict.setdefault(key\[, default=None]) 和get()方法类似, 如果键不存在字典中, 则添加键并将值设为default
- key in dict 成员运算符, 如果key在dict中返回true, 否则返回false
- dict.items() 以列表内嵌元组形式返回所有键值对的视图
- dict.keys() dict.values() 以列表返回所有键/值的视图
- dict.update(dict2) 把字典dict2中的键值对更新到dict中
- pop(key\[, default]) 删除字典key所对应的值并返回该值
- popitem() 返回并删除字典中的最后一对键和值

---

## 数据类型转换
### 隐式类型转换 - 自动完成
- Python自动将一种数据类型转换为另一种数据类型
- 如: 对两种不同类型的数据(int 和 float)进行计算, 低精度数据(int)就会转换为高精度数据(float)以避免数据丢失
### 显式类型转换
- 将对象的数据类型强制转换为所需的数据类型, 使用预定义函数完成
- int(x [,base]) 将x转换为一个整数, 以base进制读取
- float(x) 将x转换为一个浮点数
- complex(real [,imag]) 创建一个值为 real+imag\*j的复数或转化一个数/字符串为复数. 如果第一个参数为字符串, 则不需要指定第二个参数
	- real int, long, float或字符串
	- imag int, long, float或缺省
- str(x), repr(x) 将对象x转换为字符串或表达式字符串
- eval(expression[, globals[, locals]]) 解析在字符串中有效的Python表达式, 并在程序中运行, 如果为赋值语句则返回一个对象, 此函数被认为是不安全的. 详见: [如何在Python中使用eval ？ - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/235015514)
	- expression 表达式
	- globals 全局命名空间, 必须为一个字典对象, 用于指定可用的全局方法和变量
	- locals 局部命名空间, 可以是任何映射对象, 用于指定可用的本地方法和变量
- tuple(seq) 将序列seq转换为一个元组
- list(seq) 将序列seq转换为一个列表
- set(seq)/frozenset(seq) 将序列seq转换为可变/不可变集合
- dict(d) 创建一个字典, d必须是一个(key, value)元组序列
- chr(x) 将**一个**整数x转换为一个字符 (基于unicode字符编码)
- ord(x) 将一个字符x转换为它的整数值 (基于unicode字符编码)
- hex(x) 将一个整数转换为一个*十六进制***字符串**
- oct(x) 将一个整数转换为一个*八进制*字符串

---

## Comprehensions 推导式
- Python推导式是一种独特的数据处理方式, 可以从一个数据序列构建另一个新的数据序列的结构体
- 列表推导式: \[表达式 for 变量 in [[#^9e39e2|容器]][ if 条件]]\(有最外层中括号)
	- 表达式: 列表生成元素表达式,  可以是有返回值的函数
	- for 变量 in 容器/序列: 使用变量迭代容器/序列, 传入到*表达式*中
	- if 条件: 条件语句, 可以过滤列表中不符合条件的值, 可缺省
- 字典推导式: {键:值 for 变量 in 容器[ if 条件]}
	- 可以使用两个表达式分别表示键和值
- 集合推导式: {表达式 for 变量 in [[#^61e70f|序列]][ if 条件]}
- 元组推导式: (表达式 for 变量 in 序列[ if 条件])
	- 返回一个生成器对象

---

